<!-- Shopping Cart Offcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="cartOffcanvas">
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title" data-i18n="shopping_cart">Shopping Cart</h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
    ></button>
  </div>
  <div class="offcanvas-body">
    <div id="cartItems">
      <div class="text-center text-muted py-5">
        <i class="bi bi-cart-x display-1"></i>
        <p class="mt-3" data-i18n="your_cart_is_empty">Your cart is empty</p>
      </div>
    </div>
  </div>
  <div class="offcanvas-footer border-top p-3">
    <div class="d-flex justify-content-between mb-3">
      <strong><span data-i18n="total">Total</span>: <span id="cartTotal">0.00</span></strong>
    </div>
    <button class="btn btn-primary w-100" id="checkoutBtn" disabled>
      <span data-i18n="proceed_to_checkout">Proceed to Checkout</span>
    </button>
  </div>
</div>

<!-- Wishlist Offcanvas -->
<div class="offcanvas offcanvas-end" tabindex="-1" id="wishlistOffcanvas">
  <div class="offcanvas-header border-bottom">
    <h5 class="offcanvas-title" data-i18n="wishlist">Wishlist</h5>
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
    ></button>
  </div>
  <div class="offcanvas-body">
    <div id="wishlistItems">
      <div class="text-center text-muted py-5">
        <i class="bi bi-heart display-1"></i>
        <p class="mt-3" data-i18n="your_wishlist_is_empty">Your wishlist is empty</p>
      </div>
    </div>
  </div>
  <div class="offcanvas-footer border-top p-3">
    <button class="btn btn-outline-danger w-100" id="clearWishlistBtn">
      <span data-i18n="clear_wishlist">Clear Wishlist</span>
    </button>
  </div>
</div>

<!-- Required Scripts -->
<script>
  // Load scripts dynamically with correct paths
  const basePath = window.location.pathname.includes("/pages/")
    ? "../js/"
    : "js/";
  const scripts = [
    "https://unpkg.com/@supabase/supabase-js@2",
    basePath + "supabase-config.js",
    basePath + "business-data.js",
    basePath + "form-utils.js",
    basePath + "store-functions.js",
    basePath + "price-formatter.js",
    basePath + "main.js",
    basePath + "shared-store.js",
  ];

  scripts.forEach((src) => {
    if (!document.querySelector(`script[src="${src}"]`)) {
      const script = document.createElement("script");
      script.src = src;
      document.head.appendChild(script);
    }
  });
</script>
